!function(t){function e(e){for(var s,i,r=e[0],l=e[1],c=e[2],d=0,u=[];d<r.length;d++)i=r[d],n[i]&&u.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);for(p&&p(e);u.length;)u.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],s=!0,r=1;r<o.length;r++){var l=o[r];0!==n[l]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var s={},n={0:0},a=[];function i(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=s,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var p=l;a.push([62,1]),o()}({62:function(t,e,o){"use strict";o.r(e);var s=o(2),n=o(10),a=o(35),i=o.n(a),r=o(20),l=o(36),c=o.n(l),p=o(37),d=o(21);function u(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"row d-none"},[o("div",{staticClass:"col-md-12"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"protocol"}],attrs:{type:"radio",value:"WebSocket",disabled:t.isConnected},domProps:{checked:t._q(t.protocol,"WebSocket")},on:{change:function(e){t.protocol="WebSocket"}}}),t._v(" WebSocket\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"protocol"}],attrs:{type:"radio",value:"HTTP",disabled:t.isConnected},domProps:{checked:t._q(t.protocol,"HTTP")},on:{change:function(e){t.protocol="HTTP"}}}),t._v(" HTTP\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"protocol"}],attrs:{type:"radio",value:"TCP",disabled:t.isConnected,checked:""},domProps:{checked:t._q(t.protocol,"TCP")},on:{change:function(e){t.protocol="TCP"}}}),t._v(" TCP\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"protocol"}],attrs:{type:"radio",value:"UDP",disabled:t.isConnected},domProps:{checked:t._q(t.protocol,"UDP")},on:{change:function(e){t.protocol="UDP"}}}),t._v(" UDP\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protocol,expression:"protocol"}],attrs:{type:"radio",value:"WebRTC",disabled:t.isConnected},domProps:{checked:t._q(t.protocol,"WebRTC")},on:{change:function(e){t.protocol="WebRTC"}}}),t._v(" WebRTC\r\n\t\t\t")])])]),t._v(" "),"WebSocket"===t.protocol||"HTTP"===t.protocol?o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-10"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{id:"url",type:"url",placeholder:"url"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})]),t._v(" "),"WebSocket"===t.protocol?o("div",{staticClass:"col-md-2"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.subprotocol,expression:"subprotocol"}],staticClass:"form-control",attrs:{type:"text",placeholder:"subprotocol"},domProps:{value:t.subprotocol},on:{input:function(e){e.target.composing||(t.subprotocol=e.target.value)}}})]):o("div",{staticClass:"col-md-2"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.httpMethod,expression:"httpMethod"}],staticClass:"form-control",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.httpMethod=e.target.multiple?o:o[0]}}},[o("option",[t._v("GET")]),t._v(" "),o("option",[t._v("POST")]),t._v(" "),o("option",[t._v("PUT")]),t._v(" "),o("option",[t._v("DELETE")]),t._v(" "),o("option",[t._v("PATCH")]),t._v(" "),o("option",[t._v("COPY")]),t._v(" "),o("option",[t._v("HEAD")]),t._v(" "),o("option",[t._v("OPTIONS")]),t._v(" "),o("option",[t._v("LINK")]),t._v(" "),o("option",[t._v("UNLINK")]),t._v(" "),o("option",[t._v("PURGE")])])])]):t._e(),t._v(" "),"TCP"===t.protocol||"UDP"===t.protocol?o("div",{staticClass:"row mt-4"},[o("div",{staticClass:"col-md-12 mb-4"},["HTTP"!==t.protocol&&"UDP"!==t.protocol&&"WebRTC"!==t.protocol?o("button",{staticClass:"btn btn-success btn-sm mr-4",attrs:{disabled:t.isConnected},on:{click:function(e){t.connect()}}},[t._v("\r\n\t\t\t\t连 接\r\n\t\t\t")]):t._e(),t._v(" "),"HTTP"!==t.protocol&&"UDP"!==t.protocol&&"WebRTC"!==t.protocol?o("button",{staticClass:"btn btn-default btn-sm mr-4",attrs:{disabled:t.isDisconnected},on:{click:function(e){t.close()}}},[t._v("\r\n\t\t\t\t断 开\r\n\t\t\t")]):t._e(),t._v(" "),"HTTP"!==t.protocol&&"UDP"!==t.protocol&&"WebRTC"!==t.protocol?o("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){t.showPackDeatil=!t.showPackDeatil}}},[t._v("\r\n\t\t\t\t查看报文\r\n\t\t\t")]):t._e()]),t._v(" "),o("div",{staticClass:"col-md-4"},[o("label",{staticClass:" control-label"},[t._v("IP和端口：")]),t._v(" "),t._v("\r\n\t\t\t"+t._s(t.host)+":"+t._s(t.port)+"\r\n\t\t\t")]),t._v(" "),o("div",{staticClass:"col-md-3"},[o("label",{staticClass:" control-label"},[t._v("主站报文：")]),t._v(" "),t._v("\r\n\t\t\t"+t._s(t.mainPack)+"\r\n\t\t\t")]),t._v(" "),o("div",{staticClass:"col-md-3"},[o("label",{staticClass:" control-label"},[t._v("从站报文：")]),t._v(" "),t._v("\r\n\t\t\t"+t._s(t.subPack)+"\r\n\t\t\t")]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("label",{staticClass:" control-label"},[t._v("判断间隔：")]),t._v("\r\n\t\t\t"+t._s(t.timerInterval)+"秒\r\n\t\t")])]):t._e(),t._v(" "),"WebRTC"===t.protocol?o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.dataChannelName,expression:"dataChannelName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"data channel"},domProps:{value:t.dataChannelName},on:{input:function(e){e.target.composing||(t.dataChannelName=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:!t.dataChannelName||"none"!==t.dataChannelStatus||!t.peerConnection},on:{click:function(e){t.createDataChannel()}}},[t._v("create\r\n\t\t\t\tdata channel")])])]):t._e(),t._v(" "),"WebRTC"===t.protocol?o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.sessionDescription,expression:"sessionDescription"}],staticClass:"form-control",staticStyle:{width:"100%",height:"110px"},attrs:{placeholder:"session description(offer or answer)"},domProps:{value:t.sessionDescription},on:{input:function(e){e.target.composing||(t.sessionDescription=e.target.value)}}})])]):t._e(),t._v(" "),o("div",{staticClass:"row d-none"},[o("div",{staticClass:"col-md-12"},["HTTP"!==t.protocol&&"UDP"!==t.protocol&&"WebRTC"!==t.protocol?o("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:t.isConnected},on:{click:function(e){t.connect()}}},[t._v("connect")]):t._e(),t._v(" "),"HTTP"!==t.protocol&&"UDP"!==t.protocol&&"WebRTC"!==t.protocol?o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:t.isDisconnected},on:{click:function(e){t.close()}}},[t._v("disconnect")]):t._e(),t._v(" "),"WebSocket"===t.protocol||"HTTP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm clipboard",attrs:{"data-clipboard-target":"#url"}},[t._v("copy\r\n\t\t\t\tURL")]):t._e(),t._v(" "),"WebSocket"===t.protocol||"HTTP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.addParameter()}}},[t._v("add\r\n\t\t\t\ta parameter")]):t._e(),t._v(" "),"HTTP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.addHeader()}}},[t._v("add a header")]):t._e(),t._v(" "),"HTTP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.addFormData()}}},[t._v("add a form data")]):t._e(),t._v(" "),"WebRTC"===t.protocol?o("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:"init"!==t.dataChannelStatus&&"created offer"!==t.dataChannelStatus},on:{click:function(e){t.createOffer()}}},[t._v("create\r\n\t\t\t\toffer")]):t._e(),t._v(" "),"WebRTC"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:"init"!==t.dataChannelStatus&&"answered offer"!==t.dataChannelStatus||!t.sessionDescription},on:{click:function(e){t.answerOffer()}}},[t._v("answer\r\n\t\t\t\toffer")]):t._e(),t._v(" "),"WebRTC"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:"created offer"!==t.dataChannelStatus||!t.sessionDescription},on:{click:function(e){t.setAnswer()}}},[t._v("set\r\n\t\t\t\tanswer")]):t._e(),t._v(" "),o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.showTips()}}},[t._v("show tips")]),t._v(" "),"WebSocket"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleSocketIO()}}},[t._v(t._s(t.socketIOIsHidden?"show socket.io":"hide socket.io"))]):t._e(),t._v(" "),"WebSocket"===t.protocol||"TCP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleStomp()}}},[t._v(t._s(t.stompIsHidden?"show stomp":"hide stomp"))]):t._e(),t._v(" "),"WebSocket"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleBayeux()}}},[t._v(t._s(t.bayeuxIsHidden?"show bayeux":"hide bayeux"))]):t._e(),t._v(" "),"HTTP"!==t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleProtobuf()}}},[t._v(t._s(t.protobufIsHidden?"show protobuf":"hide protobuf"))]):t._e(),t._v(" "),"UDP"===t.protocol?o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleDNS()}}},[t._v(t._s(t.dnsIsHidden?"show DNS":"hide DNS"))]):t._e()])]),t._v(" "),t.socketIOIsHidden||"WebSocket"!==t.protocol?t._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.isSocketIO,expression:"isSocketIO"}],attrs:{type:"checkbox",disabled:t.isConnected},domProps:{checked:Array.isArray(t.isSocketIO)?t._i(t.isSocketIO,null)>-1:t.isSocketIO},on:{change:function(e){var o=t.isSocketIO,s=e.target,n=!!s.checked;if(Array.isArray(o)){var a=t._i(o,null);s.checked?a<0&&(t.isSocketIO=o.concat([null])):a>-1&&(t.isSocketIO=o.slice(0,a).concat(o.slice(a+1)))}else t.isSocketIO=n}}}),t._v(" socket.io\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.ignorePing,expression:"ignorePing"}],attrs:{type:"checkbox",disabled:t.isConnected||!t.isSocketIO},domProps:{checked:Array.isArray(t.ignorePing)?t._i(t.ignorePing,null)>-1:t.ignorePing},on:{change:function(e){var o=t.ignorePing,s=e.target,n=!!s.checked;if(Array.isArray(o)){var a=t._i(o,null);s.checked?a<0&&(t.ignorePing=o.concat([null])):a>-1&&(t.ignorePing=o.slice(0,a).concat(o.slice(a+1)))}else t.ignorePing=n}}}),t._v(" will hide ping/pong of\r\n\t\t\t\tsocket.io\r\n\t\t\t")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useSocketIOSendMessage()}}},[t._v("use socket.io to send message")])])]),t._v(" "),t.stompIsHidden||"WebSocket"!==t.protocol&&"TCP"!==t.protocol?t._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useStompConnectionMessage()}}},[t._v("use stomp connection message")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useStompSubscriptionMessage()}}},[t._v("use stomp subscription message")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useStompSendMessage()}}},[t._v("use stomp send message")])])]),t._v(" "),t.bayeuxIsHidden||"WebSocket"!==t.protocol?t._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useBayeuxHandshakeMessage()}}},[t._v("use bayeux handshake message")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useBayeuxSubscribeMessage()}}},[t._v("use bayeux subscribe message")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useBayeuxPublishMessage()}}},[t._v("use bayeux publish message")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.useBayeuxPingMessage()}}},[t._v("use bayeux ping message")])])]),t._v(" "),o("div",{staticClass:"row d-none"},["HTTP"!==t.protocol||t.shouldContainBody?o("div",{staticClass:"col-md-12"},["HTTP"!==t.protocol||t.shouldContainBody?o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.messageType,expression:"messageType"}],attrs:{type:"radio",value:"string"},domProps:{checked:t._q(t.messageType,"string")},on:{change:function(e){t.messageType="string"}}}),t._v(" string\r\n\t\t\t")]):t._e(),t._v(" "),"HTTP"!==t.protocol?o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.messageType,expression:"messageType"}],attrs:{type:"radio",value:"Uint8Array"},domProps:{checked:t._q(t.messageType,"Uint8Array")},on:{change:function(e){t.messageType="Uint8Array"}}}),t._v(" Uint8Array\r\n\t\t\t")]):t._e(),t._v(" "),"HTTP"!==t.protocol?o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.messageType,expression:"messageType"}],attrs:{type:"radio",value:"protobuf"},domProps:{checked:t._q(t.messageType,"protobuf")},on:{change:function(e){t.messageType="protobuf"}}}),t._v(" protobuf\r\n\t\t\t")]):t._e(),t._v(" "),"HTTP"===t.protocol&&t.shouldContainBody?o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.messageType,expression:"messageType"}],attrs:{type:"radio",value:"FormData"},domProps:{checked:t._q(t.messageType,"FormData")},on:{change:function(e){t.messageType="FormData"}}}),t._v(" FormData\r\n\t\t\t")]):t._e()]):t._e()]),t._v(" "),t.protobufIsHidden?o("div",{staticClass:"row sendSection d-none"},[o("h3",{staticClass:"col-md-12"},[t._v("发送区：")]),t._v(" "),"HTTP"!==t.protocol||t.shouldContainBody?o("div",{staticClass:"col-md-10 sendText"},[t.isPreview?o("pre",[t._v(t._s(t.previewResult))]):[t.shouldShowMessageTextarea?o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}):t._l(t.formDatas,function(e,s){return o("div",{key:e.key,staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"form data name"},domProps:{value:e.key},on:{keyup:function(e){t.setKeyOfFormData(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-5"},["text"===e.type?o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"form data value"},domProps:{value:e.value},on:{keyup:function(e){t.setValueOfFormData(s,e)}}}):o("input",{staticClass:"form-control input-sm",attrs:{type:"file",placeholder:"form data value"},on:{change:function(e){t.setValueOfFormData(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("select",{staticClass:"form-control",domProps:{value:e.type},on:{change:function(e){t.setTypeOfFormData(s,e)}}},[o("option",{attrs:{value:"text"}},[t._v("text")]),t._v(" "),o("option",{attrs:{value:"file"}},[t._v("file")])])]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.deleteFormData(s)}}},[t._v("delete")])])])})]],2):t._e(),t._v(" "),"WebSocket"===t.protocol||"HTTP"===t.protocol?o("div",{staticClass:"col-md-6"},[t._l(t.parameters,function(e,s){return o("div",{key:e.key,staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"parameter name"},domProps:{value:e.key},on:{keyup:function(e){t.setKeyOfParameter(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-7"},[o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"parameter value"},domProps:{value:e.value},on:{keyup:function(e){t.setValueOfParameter(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.deleteParameter(s)}}},[t._v("delete")])])])}),t._v(" "),t._l(t.headers,function(e,s){return"HTTP"===t.protocol?o("div",{key:e.key,staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"header name"},domProps:{value:e.key},on:{keyup:function(e){t.setKeyOfHeader(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-7"},[o("input",{staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"header value"},domProps:{value:e.value},on:{keyup:function(e){t.setValueOfHeader(s,e)}}})]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("button",{staticClass:"btn btn-link btn-sm",on:{click:function(e){t.deleteHeader(s)}}},[t._v("delete")])])]):t._e()})],2):t._e(),t._v(" "),o("div",{staticClass:"col-md-2 sendSection-btn"},[o("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:t.isDisconnected},on:{click:function(e){t.sendMessage()}}},[t._v("发送")]),t._v(" "),o("button",{staticClass:"btn btn-link btn-sm"},[t._v("清空")])])]):o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.protobufContent,expression:"protobufContent"}],staticClass:"form-control",staticStyle:{width:"100%",height:"150px"},attrs:{placeholder:"protobuf file content"},domProps:{value:t.protobufContent},on:{input:function(e){e.target.composing||(t.protobufContent=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-md-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.protobufTypePath,expression:"protobufTypePath"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"protobuf type path"},domProps:{value:t.protobufTypePath},on:{input:function(e){e.target.composing||(t.protobufTypePath=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-md-4"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{disabled:!t.protobufContent||!t.protobufTypePath},on:{click:function(e){t.loadProtobuf()}}},[t._v("load")])])]),t._v(" "),t.dnsIsHidden?t._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.dnsQuestionName,expression:"dnsQuestionName"}],staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"DNS question name"},domProps:{value:t.dnsQuestionName},on:{input:function(e){e.target.composing||(t.dnsQuestionName=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-md-3"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.dnsTransactionId,expression:"dnsTransactionId"}],staticClass:"form-control input-sm",attrs:{type:"number",placeholder:"DNS transaction ID"},domProps:{value:t.dnsTransactionId},on:{input:function(e){e.target.composing||(t.dnsTransactionId=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row d-none"},[o("div",{staticClass:"col-md-12"},["FormData"===t.messageType||t.isPreview?t._e():o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:""===t.message},on:{click:function(e){t.previewMessage()}}},[t._v("preview\r\n\t\t\t\tmessage")]),t._v(" "),"FormData"!==t.messageType&&t.isPreview?o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:""===t.message},on:{click:function(e){t.cancelPreview()}}},[t._v("cancel\r\n\t\t\t\tpreview")]):t._e(),t._v(" "),o("button",{staticClass:"btn btn-primary btn-sm",attrs:{disabled:t.isDisconnected},on:{click:function(e){t.sendMessage()}}},[t._v("send message")]),t._v(" "),o("button",{staticClass:"btn btn-default btn-sm",attrs:{disabled:0===t.messages.length},on:{click:function(e){t.clear()}}},[t._v("clear")]),t._v(" "),o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.savingAsBookmark()}}},[t._v(t._s(t.isEditing?"cancel bookmark":"save as bookmark"))]),t._v(" "),o("button",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.toggleFilter()}}},[t._v(t._s(t.filterIsHidden?"show filter":"hide filter"))])])]),t._v(" "),t.isEditing?o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookmarkName,expression:"bookmarkName"}],ref:"bookmarkName",staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"bookmark name"},domProps:{value:t.bookmarkName},on:{input:function(e){e.target.composing||(t.bookmarkName=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-md-2"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{disabled:!t.canSaveAsBookmark},on:{click:function(e){t.saveAsBookmark()}}},[t._v("save")])])]):t._e(),t._v(" "),t.filterIsHidden?t._e():o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],ref:"filter",staticClass:"form-control input-sm",attrs:{type:"text",placeholder:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row d-none"},[o("div",{staticClass:"col-md-12"},[o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.showRaw,expression:"showRaw"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showRaw)?t._i(t.showRaw,null)>-1:t.showRaw},on:{change:function(e){var o=t.showRaw,s=e.target,n=!!s.checked;if(Array.isArray(o)){var a=t._i(o,null);s.checked?a<0&&(t.showRaw=o.concat([null])):a>-1&&(t.showRaw=o.slice(0,a).concat(o.slice(a+1)))}else t.showRaw=n}}}),t._v(" show raw data\r\n\t\t\t")]),t._v(" "),o("label",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.showFormatted,expression:"showFormatted"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showFormatted)?t._i(t.showFormatted,null)>-1:t.showFormatted},on:{change:function(e){var o=t.showFormatted,s=e.target,n=!!s.checked;if(Array.isArray(o)){var a=t._i(o,null);s.checked?a<0&&(t.showFormatted=o.concat([null])):a>-1&&(t.showFormatted=o.slice(0,a).concat(o.slice(a+1)))}else t.showFormatted=n}}}),t._v(" show formatted data\r\n\t\t\t")])])]),t._v(" "),o("div",{staticClass:"row receiveSection"},[o("h3",{staticClass:"col-md-12"},[t._v("\r\n\t\t\t链路状态：\r\n\t\t\t"),t._v(" "),200===t.errorStatus?o("span",{staticClass:"badge badge-success"},[t._v("正常")]):401===t.errorStatus?o("span",{staticClass:"badge badge-danger"},[t._v("主站通讯故障")]):402===t.errorStatus?o("span",{staticClass:"badge badge-danger"},[t._v("主站报文错误")]):403===t.errorStatus?o("span",{staticClass:"badge badge-danger"},[t._v("从站报文错误")]):501===t.errorStatus?o("span",{staticClass:"badge badge-info"},[t._v("未连接")]):502===t.errorStatus?o("span",{staticClass:"badge badge-info"},[t._v("已连接")]):503===t.errorStatus?o("span",{staticClass:"badge badge-info"},[t._v("已断开")]):t._e()]),t._v(" "),o("div",{staticClass:"col-md-12"},[o("h3",[t._v("错误记录：")]),t._v(" "),o("table",{staticClass:"table table-striped text-center",staticStyle:{background:"#fff"}},[t._m(0),t._v(" "),t._l(t.errorMsgs,function(e,s){return o("tr",{key:s},[o("td",{domProps:{textContent:t._s(s+1)}}),t._v(" "),o("td",{domProps:{textContent:t._s(e.moment)}}),t._v(" "),o("td",{domProps:{textContent:t._s(e.mainPack)}}),t._v(" "),o("td",{domProps:{textContent:t._s(e.subPack)}}),t._v(" "),o("td",{domProps:{textContent:t._s(e.msgStatus)}})])})],2)]),t._v(" "),t.showPackDeatil?o("div",{staticClass:"col-md-12"},[o("h3",[t._v("详细报文：")]),t._v(" "),o("ul",t._l(t.filteredMessages,function(e,s){return e.rawData||"out"===e.type?o("li",{key:e.id,staticClass:"visibility-button-container"},[o("span",{staticClass:"label label-default"},[t._v("["+t._s(e.moment.split(" ")[1])+"]")]),t._v(" "),"out"===e.type?o("span",{staticClass:"label label-info"},[t._v("发送成功 ")]):t._e(),t._v(" "),"in"===e.type?o("span",{staticClass:"label label-info"},[t._v("接收 ")]):t._e(),t._v(" "),"connect"===e.type?o("span",{staticClass:"label label-info"},[t._v("连接成功 ")]):t._e(),t._v(" "),"disconnect"===e.type?o("span",{staticClass:"label label-info"},[t._v("断开 ")]):t._e(),t._v(" "),e.reason?o("span",[t._v(t._s(e.reason))]):t._e(),t._v(" "),e.data?o("span",[t._v(t._s(e.data))]):t._e(),t._v(" "),e.rawData&&"in"===e.type?[(void 0!==e.visible?e.visible:t.showRaw)?o("span",{attrs:{id:t.resultId(e.id)}},[t._v(t._s(e.rawData))]):t._e()]:t._e(),t._v(" "),e.tips?o("pre",{attrs:{id:t.resultId(e.id)}},[t._v(t._s(e.tips))]):t._e()],2):t._e()})),t._v(" "),o("div",{staticClass:"text-right"},[o("button",{staticClass:"btn btn-link btn-sm",attrs:{disabled:0===t.messages.length},on:{click:function(e){t.clear()}}},[t._v("清空")])])]):t._e()])])}var m,h=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("tr",[o("th",[t._v("#")]),t._v(" "),o("th",[t._v("时间")]),t._v(" "),o("th",[t._v("主站报文")]),t._v(" "),o("th",[t._v("从站报文")]),t._v(" "),o("th",[t._v("错误信息")])])}];o.d(e,"App",function(){return I}),new c.a(".clipboard");var f,v=new r.Decoder,b=new r.Decoder,g=localStorage.getItem("parameters"),y=localStorage.getItem("headers"),_=localStorage.getItem("bookmarks");function k(t){return t<10?"0"+t:t.toString()}function C(){var t=new Date;return k(t.getFullYear())+"-"+k(t.getMonth()+1)+"-"+k(t.getDate())+" "+k(t.getHours())+":"+k(t.getMinutes())+":"+k(t.getSeconds())}function w(t,e){return(Array(e).join("0")+t).slice(-e)}function S(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(e);return null!=o?decodeURIComponent(o[2]):null}var P='package testPackage;\nsyntax = "proto3";\nmessage Test {\n    required string data = 1;\n}',I=function(t){function e(e){var o=t.call(this,e)||this;return o.serverUrl="http://106.12.153.196:12345",o.messages=[],o.parameters=g?JSON.parse(g):[{key:"transport",value:"websocket"},{key:"room",value:"test"}],o.previewResult="",o.isPreview=!1,o.bookmarks=_?JSON.parse(_):[],o.isEditing=!1,o.bookmarkName="",o.filter="",o.filterIsHidden=!0,o.stompIsHidden=!0,o.protobufIsHidden=!0,o.dnsIsHidden=!0,o.headers=y?JSON.parse(y):[{key:"Content-Type",value:"application/json"}],o.socketIOIsHidden=!0,o.formDatas=[],o.peerConnection=window.RTCPeerConnection?new RTCPeerConnection({}):null,o.dataChannelName="my_test_channel",o.sessionDescription="",o.dataChannelStatus="none",o.id=1,o.bayeuxIsHidden=!0,o.useProxy=!0,o.protobufType=null,o.dataChannel=null,o.websocket=null,o.isSocketIOInternally=!!localStorage.getItem("isSocketIO"),o.ignorePingInternally=!!localStorage.getItem("ignorePing"),o.baseUrl=localStorage.getItem("baseUrl")||"wss://copy.yorkyao.xyz/socket.io/",o.anchor=localStorage.getItem("anchor")||"",o.messageInternally=localStorage.getItem("message")||"",o.showRawInternally=!0,o.showFormattedInternally=!!localStorage.getItem("showFormatted"),o.subprotocolInternally=localStorage.getItem("subprotocol")||"",o.protobufContentInternally=localStorage.getItem("protobufContent")||P,o.protobufTypePathInternally=localStorage.getItem("protobufTypePath")||"testPackage.Test",o.dnsTransactionIdInternally=+localStorage.getItem("dnsTransactionId")||43825,o.dnsQuestionNameInternally=localStorage.getItem("dnsQuestionName")||"www.example.com",o.messageTypeInternally=localStorage.getItem("messageType")||"string",o.protocolInternally=localStorage.getItem("protocol")||"TCP",o.hostInternally=S("host")||"localhost",o.portInternally=+S("port")||9999,o.mainPackInternally=S("main")||"",o.subPackInternally=S("sub")||"",o.timer=null,o.timerInterval=20,o.errorStatus=501,o.isClosed=!0,o.errorObj={200:"正常",401:"主站通讯故障",402:"主站报文错误",403:"从站报文错误",501:"未连接",502:"已连接",503:"已断开"},o.errorMsgs=[],o.serialNumber=0,o.showPackDeatil=!1,o.tcpConnected=!1,o.httpMethodInternally=localStorage.getItem("httpMethod")||"GET",o.isDataChannelConnected=!1,o.peerConnection&&(o.peerConnection.ondatachannel=function(t){t.channel.onopen=function(t){T.isDataChannelConnected=!0,o.messages.unshift({moment:C(),type:"tips",tips:"peer connection opened.",id:T.id++})},t.channel.onclose=function(t){T.isDataChannelConnected=!1,o.messages.unshift({moment:C(),type:"tips",tips:"peer connection closed.",id:T.id++})},t.channel.onmessage=function(t){o.onmessage(t)}}),o}return s.__extends(e,t),Object.defineProperty(e.prototype,"httpMethod",{get:function(){return this.httpMethodInternally},set:function(t){localStorage.setItem("httpMethod",t),this.httpMethodInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this.hostInternally},set:function(t){localStorage.setItem("host",t),this.hostInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.portInternally},set:function(t){localStorage.setItem("port",String(t)),this.portInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainPack",{get:function(){return this.mainPackInternally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subPack",{get:function(){return this.subPackInternally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.protocolInternally},set:function(t){"HTTP"!==t&&"FormData"!==this.messageType||(this.messageType="string"),localStorage.setItem("protocol",t),this.protocolInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"messageType",{get:function(){return this.messageTypeInternally},set:function(t){localStorage.setItem("messageType",t),this.messageTypeInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protobufContent",{get:function(){return this.protobufContentInternally},set:function(t){localStorage.setItem("protobufContent",t),this.protobufContentInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protobufTypePath",{get:function(){return this.protobufTypePathInternally},set:function(t){localStorage.setItem("protobufTypePath",t),this.protobufTypePathInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dnsTransactionId",{get:function(){return this.dnsTransactionIdInternally},set:function(t){localStorage.setItem("dnsTransactionId",t.toString()),this.dnsTransactionIdInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dnsQuestionName",{get:function(){return this.dnsQuestionNameInternally},set:function(t){localStorage.setItem("dnsQuestionName",t.toString()),this.dnsQuestionNameInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredMessages",{get:function(){var t=this;return this.messages.filter(function(e){return!t.filter||("string"==typeof e.rawData&&-1!==e.rawData.indexOf(t.filter)||"string"==typeof e.moment&&-1!==e.moment.indexOf(t.filter)||"string"==typeof e.formattedData&&-1!==e.formattedData.indexOf(t.filter)||"string"==typeof e.type&&-1!==e.type.indexOf(t.filter)||"string"==typeof e.reason&&-1!==e.reason.indexOf(t.filter)||"string"==typeof e.data&&-1!==e.data.indexOf(t.filter)||"string"==typeof e.tips&&-1!==e.tips.indexOf(t.filter))}).slice(0,100)},enumerable:!0,configurable:!0}),e.prototype.saveErrorMsg=function(t){console.log("msg==",t);var e={type:"post",url:this.serverUrl+"/saveErrorMsg",data:JSON.stringify(t),params:""},o=this;this.ajax(e,function(t){o.getErrorMsg(),console.log(t),console.log("错误信息保存成功")})},e.prototype.getErrorMsg=function(){var t=this,e={type:"get",url:this.serverUrl+"/getErrorMsg",data:null,params:"currentPage=1&pageSize=10&serialNumber="+this.serialNumber};this.ajax(e,function(e){t.errorMsgs=JSON.parse(e).data})},e.prototype.ajax=function(t,e){var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&e&&e(o.responseText)},o.open(t.type,t.url+"?"+t.params,!0),o.setRequestHeader("Content-type","application/json"),o.send(t.data)},e.prototype.hasError=function(){var t=this;this.timer=setTimeout(function(){if(console.log("hasError",new Date),console.log(t.isClosed),!t.isClosed){t.errorStatus=200;for(var e="",o=0,s=t.messages.length;o<s;o++){var n=t.messages[o];if("in"===n.type&&"string"==typeof n.rawData){if((new Date).getTime()-new Date(n.moment).getTime()>1e3*t.timerInterval)break;e+=n.rawData}}if(console.log(e),e){e.match(t.mainPackInternally)||(t.errorStatus=402);var a=t.mainPackInternally+" "+t.subPackInternally;e.match(t.mainPackInternally)&&!e.match(a)&&(t.errorStatus=403),401!==t.errorStatus&&402!==t.errorStatus&&403!==t.errorStatus||t.saveErrorMsg({mainPack:t.mainPackInternally,subPack:t.subPackInternally,moment:C(),msgStatus:t.errorObj[t.errorStatus],serialNumber:t.serialNumber}),t.hasError()}else t.errorStatus=401}},1e3*this.timerInterval)},Object.defineProperty(e.prototype,"subprotocol",{get:function(){return this.subprotocolInternally},set:function(t){localStorage.setItem("subprotocol",t),this.subprotocolInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canSaveAsBookmark",{get:function(){var t,e;if(""===this.bookmarkName.trim())return!1;try{for(var o=s.__values(this.bookmarks),n=o.next();!n.done;n=o.next()){if(n.value.name===this.bookmarkName)return!1}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSocketIO",{get:function(){return this.isSocketIOInternally},set:function(t){localStorage.setItem("isSocketIO",t?"1":""),this.isSocketIOInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ignorePing",{get:function(){return this.ignorePingInternally},set:function(t){localStorage.setItem("ignorePing",t?"1":""),this.ignorePingInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRaw",{get:function(){return this.showRawInternally},set:function(t){localStorage.setItem("showRaw",t?"1":""),this.showRawInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFormatted",{get:function(){return this.showFormattedInternally},set:function(t){localStorage.setItem("showFormatted",t?"1":""),this.showFormattedInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.messageInternally},set:function(t){localStorage.setItem("message",t),this.messageInternally=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){var t,e,o=this.baseUrl;if(this.parameters.length>0){o+="?";try{for(var n=s.__values(this.parameters),a=n.next();!a.done;a=n.next()){var i=a.value;o+=i.key+"="+i.value+"&"}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}o=o.substring(0,o.length-1)}return this.anchor&&(o+="#"+this.anchor),o},set:function(t){var e,o,n=t.indexOf("#");if(n>-1?(t=t.substring(0,n),this.anchor=t.substring(n+1)):this.anchor="",(n=t.indexOf("?"))>-1){this.baseUrl=t.substring(0,n);var a=t.substring(n+1).split("&"),i=[];try{for(var r=s.__values(a),l=r.next();!l.done;l=r.next()){var c=l.value;-1===(n=c.indexOf("="))?i.push({key:c,value:""}):i.push({key:c.substring(0,n),value:c.substring(n+1)})}}catch(t){e={error:t}}finally{try{l&&!l.done&&(o=r.return)&&o.call(r)}finally{if(e)throw e.error}}this.parameters=i}else this.baseUrl=t,this.parameters=[];localStorage.setItem("baseUrl",this.baseUrl),localStorage.setItem("parameters",JSON.stringify(this.parameters)),localStorage.setItem("anchor",this.anchor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isConnected",{get:function(){return"WebSocket"===this.protocol&&this.websocket||"TCP"===this.protocol&&this.tcpConnected||"WebRTC"===this.protocol&&this.dataChannel&&this.isDataChannelConnected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisconnected",{get:function(){return"WebSocket"===this.protocol&&!this.websocket||"TCP"===this.protocol&&!this.tcpConnected||"WebRTC"===this.protocol&&!(this.dataChannel&&this.isDataChannelConnected)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldContainBody",{get:function(){return"POST"===this.httpMethod||"PUT"===this.httpMethod||"PATCH"===this.httpMethod||"DELETE"===this.httpMethod||"LINK"===this.httpMethod||"UNLINK"===this.httpMethod},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldShowMessageTextarea",{get:function(){return("string"===this.messageType||"HTTP"!==this.protocol)&&this.dnsIsHidden},enumerable:!0,configurable:!0}),e.prototype.createDataChannel=function(){this.peerConnection&&(this.dataChannel=this.peerConnection.createDataChannel(this.dataChannelName),this.dataChannelStatus="init",this.messages.unshift({moment:C(),type:"tips",tips:"create data channel successfully: "+this.dataChannelName,id:this.id++}))},e.prototype.createOffer=function(){var t=this;this.peerConnection&&this.peerConnection.createOffer().then(function(e){return t.peerConnection.setLocalDescription(e)}).then(function(){t.showLocalDescription(),t.dataChannelStatus="created offer"},function(e){t.showError(e)})},e.prototype.answerOffer=function(){var t=this;if(this.peerConnection)try{var e=new RTCSessionDescription(JSON.parse(this.sessionDescription));this.peerConnection.setRemoteDescription(e).then(function(){return t.peerConnection.createAnswer()}).then(function(e){return t.peerConnection.setLocalDescription(e)}).then(function(){t.showLocalDescription(),t.dataChannelStatus="answered offer"},function(e){t.showError(e)})}catch(t){this.showError(t)}},e.prototype.setAnswer=function(){var t=this;if(this.peerConnection)try{var e=new RTCSessionDescription(JSON.parse(this.sessionDescription));this.peerConnection.setRemoteDescription(e).then(function(){t.messages.unshift({moment:C(),type:"tips",tips:"set answer successfully.",id:t.id++}),t.dataChannelStatus="set answer"},function(e){t.showError(e)})}catch(t){this.messages.unshift({moment:C(),type:"error",reason:t.message,id:this.id++})}},e.prototype.loadProtobuf=function(){if(this.protobufContent&&this.protobufTypePath)try{this.protobufType=p.parse(this.protobufContent).root.lookup(this.protobufTypePath),this.messages.unshift({moment:C(),type:"tips",tips:"The protobuf definitions is loaded successfully.",id:this.id++})}catch(t){this.messages.unshift({moment:C(),type:"error",reason:t.message,id:this.id++})}},e.prototype.savingAsBookmark=function(){var t=this;this.isEditing=!this.isEditing,n.default.nextTick(function(){var e=t.$refs.bookmarkName;e&&e.focus()})},e.prototype.toggleFilter=function(){var t=this;this.filterIsHidden=!this.filterIsHidden,n.default.nextTick(function(){var e=t.$refs.filter;e&&e.focus()})},e.prototype.toggleSocketIO=function(){this.socketIOIsHidden=!this.socketIOIsHidden},e.prototype.toggleStomp=function(){this.stompIsHidden=!this.stompIsHidden},e.prototype.toggleBayeux=function(){this.bayeuxIsHidden=!this.bayeuxIsHidden},e.prototype.toggleProtobuf=function(){this.protobufIsHidden=!this.protobufIsHidden},e.prototype.toggleDNS=function(){this.dnsIsHidden=!this.dnsIsHidden},e.prototype.saveAsBookmark=function(){this.isEditing=!1,this.bookmarks.unshift({name:this.bookmarkName,isSocketIO:this.isSocketIO,ignorePing:this.ignorePing,baseUrl:this.baseUrl,parameters:this.parameters,anchor:this.anchor,message:this.message,showRaw:this.showRaw,showFormatted:this.showFormatted,subprotocol:this.subprotocol,protobufContent:this.protobufContent,protobufTypePath:this.protobufTypePath,messageType:this.messageType,protocol:this.protocol,host:this.host,port:this.port,httpMethod:this.httpMethod,headers:this.headers,dnsTransactionId:this.dnsTransactionId,dnsQuestionName:this.dnsQuestionName}),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},e.prototype.deleteBookmark=function(t){this.bookmarks.splice(t,1),localStorage.setItem("bookmarks",JSON.stringify(this.bookmarks))},e.prototype.useBookmark=function(t){var e=this.bookmarks[t];this.isSocketIO=e.isSocketIO,this.ignorePing=e.ignorePing,this.showRaw=e.showRaw,this.showFormatted=e.showFormatted,this.message=e.message,this.baseUrl=e.baseUrl;var o=JSON.stringify(e.parameters);this.parameters=JSON.parse(o),this.anchor=e.anchor,localStorage.setItem("baseUrl",e.baseUrl),localStorage.setItem("parameters",o),localStorage.setItem("anchor",e.anchor),this.subprotocol=e.subprotocol,this.protobufContent=e.protobufContent,this.protobufTypePath=e.protobufTypePath,this.messageType=e.messageType,this.protocol=e.protocol,this.host=e.host,this.port=e.port,this.httpMethod=e.httpMethod,this.headers=e.headers,localStorage.setItem("headers",JSON.stringify(e.headers))},e.prototype.setKeyOfParameter=function(t,e){this.parameters[t].key=e.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},e.prototype.setKeyOfHeader=function(t,e){this.headers[t].key=e.target.value,localStorage.setItem("headers",JSON.stringify(this.headers))},e.prototype.setKeyOfFormData=function(t,e){this.formDatas[t].key=e.target.value},e.prototype.setValueOfParameter=function(t,e){this.parameters[t].value=e.target.value,localStorage.setItem("parameters",JSON.stringify(this.parameters))},e.prototype.setValueOfHeader=function(t,e){this.headers[t].value=e.target.value,localStorage.setItem("headers",JSON.stringify(this.headers))},e.prototype.setValueOfFormData=function(t,e){var o=e.target;this.formDatas[t].value=o.files&&o.files.length>0?o.files[0]:o.value},e.prototype.setTypeOfFormData=function(t,e){this.formDatas[t].type=e.target.value},e.prototype.deleteParameter=function(t){this.parameters.splice(t,1),localStorage.setItem("parameters",JSON.stringify(this.parameters))},e.prototype.deleteHeader=function(t){this.headers.splice(t,1),localStorage.setItem("headers",JSON.stringify(this.headers))},e.prototype.deleteFormData=function(t){this.formDatas.splice(t,1)},e.prototype.addParameter=function(){this.parameters.push({key:"",value:""})},e.prototype.addHeader=function(){this.headers.push({key:"",value:""})},e.prototype.addFormData=function(){this.formDatas.push({key:"",value:"",type:"text"})},e.prototype.connect=function(){if("WebSocket"===this.protocol){try{this.websocket=this.subprotocol?new WebSocket(this.url,this.subprotocol):new WebSocket(this.url)}catch(t){return void this.messages.unshift({moment:C(),type:"error",reason:t.message,id:this.id++})}this.websocket.binaryType="arraybuffer",this.websocket.onopen=this.onopen,this.websocket.onclose=this.onclose,this.websocket.onmessage=this.onmessage,this.websocket.onerror=this.onerror,this.isSocketIO&&(m=setInterval(this.ping,25e3))}else if("TCP"===this.protocol&&(this.errorStatus=502,this.isClosed=!1,this.hasError(),this.serialNumber=(new Date).getTime(),f&&!isNaN(+this.port))){var t={kind:"tcp:connect",host:this.host,port:+this.port};f.send(JSON.stringify(t))}},e.prototype.sendMessage=function(){this.send(this.message)},e.prototype.useStompConnectionMessage=function(){this.message="CONNECT\nlogin:admin\npasscode:admin\naccept-version:1.2,1.1,1.0\nheart-beat:0,0\n\n\0"},e.prototype.useStompSubscriptionMessage=function(){this.message="SUBSCRIBE\nid:sub-0\ndestination:/topic/test_topic\n\n\0"},e.prototype.useStompSendMessage=function(){this.message="SEND\ndestination:/queue/test\ncontent-type:text/plain\n\nhello queue test\n\0"},e.prototype.useSocketIOSendMessage=function(){this.message='42["a_event",{\n    "a_key":"a_value"\n}]'},e.prototype.useBayeuxHandshakeMessage=function(){this.message='[{\n    "advice":{ "timeout":60000, "interval":0 },\n    "channel":"/meta/handshake",\n    "ext":{},\n    "id":"1",\n    "minimumVersion": "0.9",\n    "supportedConnectionTypes": ["websocket"],\n    "version": "1.0"\n}]'},e.prototype.useBayeuxSubscribeMessage=function(){this.message='[{\n    "channel": "/meta/subscribe",\n    "clientId": "",\n    "id": "2",\n    "subscription": "/test_channel"\n}]'},e.prototype.useBayeuxPublishMessage=function(){this.message='[{\n    "channel": "/test_channel",\n    "clientId": "",\n    "data": {},\n    "id": "3"\n}]'},e.prototype.useBayeuxPingMessage=function(){this.message='[{\n    "advice": { "timeout": 0 },\n    "channel": "/meta/connect",\n    "clientId": "",\n    "connectionType": "websocket",\n    "id": "4"\n}]'},e.prototype.clear=function(){this.messages=[]},e.prototype.previewMessage=function(){if(this.isPreview=!0,"WebSocket"===this.protocol&&this.isSocketIO)this.previewResult="",b.add(this.message);else if("Uint8Array"===this.messageType)try{this.previewResult=new TextDecoder("utf-8").decode(new Uint8Array(this.message.split(",").map(function(t){return+t})))}catch(t){this.previewResult=t}else try{this.previewResult=JSON.stringify(JSON.parse(this.message),null,"    ")}catch(t){this.previewResult=t}},e.prototype.cancelPreview=function(){this.isPreview=!1},e.prototype.showTips=function(){this.messages.unshift({moment:C(),type:"tips",tips:"Tips: \n1. for socket.io, if you connect 'http://localhost', in ws's perspective, you connected 'ws://localhost/socket.io/?transport=websocket'\n2. for socket.io, if you connect 'https://localhost', in ws's perspective, you connected 'wss://localhost/socket.io/?transport=websocket'\n3. chrome's developer tool is a good tool to view ws connection and messages\n4. for ActiveMQ, the default url is 'ws://localhost:61614' ,the subprotocol should be 'stomp'\n5. for HTTP, set `Content-Type` be `application/x-www-form-urlencoded`, `multipart/form-data` or `text/plain` to avoid CORS preflight",id:this.id++})},e.prototype.close=function(){if(this.messages.unshift({moment:C(),type:"tips",tips:"Is going to disconnect manually.",id:this.id++}),"WebSocket"===this.protocol)this.websocket.close();else if("TCP"===this.protocol){f.send(JSON.stringify({kind:"tcp:disconnect"}))}clearTimeout(this.timer),this.isClosed=!0,this.errorStatus=503},e.prototype.onmessage=function(t){this.onmessageAccepted(t.data,t.type)},e.prototype.toggleMessageVisibility=function(t){t.visible=!this.messageVisibility(t)},e.prototype.resultId=function(t){return"result-"+t},e.prototype.messageVisibility=function(t){return void 0!==t.visible?t.visible:t.formattedData?this.showFormatted:this.showRaw},e.prototype.visibilityButtonStyle=function(t){return{position:"absolute",bottom:(this.messageVisibility(t)?10+t.visibilityButtonExtraBottom:0)+"px",right:"10px"}},e.prototype.showError=function(t){this.messages.unshift({moment:C(),type:"error",reason:t.message,id:this.id++})},e.prototype.send=function(t){var e,o,n,a,i,r,l,c=this,p=!0;if("Uint8Array"===this.messageType){for(var u=this.message.split(" "),m=new ArrayBuffer(u.length),h=new Uint8Array(m),v=0,b=0;v<u.length;v++)h[b]=parseInt(u[v],16),b++;i=h}else if("protobuf"===this.messageType){if(!this.protobufType)return void this.messages.unshift({moment:C(),type:"error",reason:"Protobuf file content is not loaded.",id:this.id++});try{i=this.protobufType.encode(JSON.parse(this.message)).finish()}catch(t){return void this.messages.unshift({moment:C(),type:"error",reason:t.message,id:this.id++})}}else i=this.message,p=!1;if("WebSocket"===this.protocol)this.websocket&&i&&(this.ignorePing&&"2"===t||(r=t,l=i.toString()),this.websocket.send(i));else if("TCP"===this.protocol){if(f&&i){var g={kind:"tcp:send",isBinary:p,message:"string"==typeof i?i:i.toString()};l=JSON.stringify(g,null,"  "),f.send(JSON.stringify(g))}}else if("UDP"===this.protocol){if(f){if(!this.dnsIsHidden){var y=new d.a(this.dnsTransactionId);y.addQuestion(this.dnsQuestionName),l=JSON.stringify(y,null,"  "),i=y.encode(),p=!0}if(i){g={kind:"udp:send",address:this.host,port:+this.port,isBinary:p,message:"string"==typeof i?i:i.toString()};l||(l=JSON.stringify(g,null,"  ")),f.send(JSON.stringify(g))}}}else if("HTTP"===this.protocol){var _=new XMLHttpRequest;if(_.onloadend=function(t){c.onmessageAccepted(_.status+" "+_.statusText+"\n"+_.getAllResponseHeaders(),""),c.onmessageAccepted(_.response,"")},_.upload.onprogress=function(t){var e=Math.round(100*t.loaded/t.total);c.onmessageAccepted(t.loaded+" / "+t.total+" ("+e+"%)","")},this.useProxy)_.open(this.httpMethod,"/proxy"),_.setRequestHeader("x-to-url",this.url),_.setRequestHeader("x-headers",JSON.stringify(this.headers.filter(function(t){return t.key})));else{_.open(this.httpMethod,this.url);try{for(var k=s.__values(this.headers),w=k.next();!w.done;w=k.next()){var S=w.value;_.setRequestHeader(S.key,S.value)}}catch(t){e={error:t}}finally{try{w&&!w.done&&(o=k.return)&&o.call(k)}finally{if(e)throw e.error}}}if(this.shouldContainBody)if("FormData"===this.messageType){var P=new FormData;try{for(var I=s.__values(this.formDatas),T=I.next();!T.done;T=I.next()){var O=T.value,x=O.key,N=O.value;x&&P.append(x,N)}}catch(t){n={error:t}}finally{try{T&&!T.done&&(a=I.return)&&a.call(I)}finally{if(n)throw n.error}}_.send(P)}else _.send(this.message);else _.send()}else"WebRTC"===this.protocol&&this.dataChannel&&(r=t,this.dataChannel.send(t));r&&this.messages.unshift({moment:C(),type:"out",rawData:r,visible:void 0,visibilityButtonExtraBottom:0,isBinary:p,id:this.id++}),l&&this.messages.unshift({moment:C(),type:"out",formattedData:l,visible:void 0,visibilityButtonExtraBottom:0,isBinary:p,id:this.id++})},e.prototype.ping=function(){this.send("2")},e.prototype.onopen=function(t){this.messages.unshift({moment:C(),type:t.type,id:this.id++})},e.prototype.onclose=function(t){this.messages.unshift({moment:C(),type:t.type,reason:t.reason,id:this.id++}),this.websocket=null,clearInterval(m)},e.prototype.onmessageAccepted=function(t,e){if(!this.ignorePing||"3"!==t){var o="string"!=typeof t;if("3"!==t){var s,n,a;if(o){s=new Uint8Array(t);for(var i=" ",r=0;r<s.length;r++)i+=w(s[r].toString(16),2)+" ";n=i,a="in"}else s=void 0,a=(n=t).includes("disconnected")?"disconnect":"connect";if(this.messages.unshift({moment:C(),type:a,rawData:n,visible:void 0,visibilityButtonExtraBottom:0,isBinary:o,id:this.id++}),"WebSocket"===this.protocol&&this.isSocketIOInternally)v.add(t);else if(o){try{var l=new TextDecoder("utf-8").decode(s);this.messages.unshift({moment:C(),type:"in",formattedData:l,isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(t){x(t)}if(this.protobufType)try{var c=this.protobufType.toObject(this.protobufType.decode(s));this.messages.unshift({moment:C(),type:"in",formattedData:JSON.stringify(c,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(t){x(t)}else if(!this.dnsIsHidden&&s)try{c=d.a.parse(s.buffer);this.messages.unshift({moment:C(),type:"in",formattedData:JSON.stringify(c,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(t){x(t)}}else try{var p=JSON.parse(t);"WebSocket"!==this.protocol&&("tcp:connected"===p.kind?this.tcpConnected=!0:"tcp:disconnected"===p.kind&&(this.tcpConnected=!1)),this.tcpConnected?this.messages.unshift({moment:C(),type:"connect",formattedData:JSON.stringify(p,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++}):this.messages.unshift({moment:C(),type:"disconnect",formattedData:JSON.stringify(p,null,"    "),isBinary:o,visible:void 0,visibilityButtonExtraBottom:0,id:this.id++})}catch(t){x(t)}}else this.messages.unshift({moment:C(),type:e,data:t,isBinary:o,id:this.id++})}},e.prototype.onerror=function(t){this.messages.unshift({moment:C(),type:t.type,id:this.id++}),this.websocket=null,clearInterval(m)},e.prototype.showLocalDescription=function(){this.messages.unshift({moment:C(),type:"tips",tips:JSON.stringify(this.peerConnection.localDescription.toJSON()),id:this.id++})},e=s.__decorate([i()({render:u,staticRenderFns:h}),s.__metadata("design:paramtypes",[Object])],e)}(n.default),T=new I({el:"#body"});WebSocket||T.messages.unshift({moment:C(),type:"tips",tips:"current browser doesn't support WebSocket",id:T.id++}),v.on("decoded",function(t){T.messages.unshift({moment:C(),type:"in",formattedData:JSON.stringify(t,null,"    "),visible:void 0,visibilityButtonExtraBottom:0,id:T.id++})}),b.on("decoded",function(t){T.previewResult=JSON.stringify(t,null,"    ")}),window.onscroll=function(){for(var t=window.innerHeight||document.documentElement.clientHeight,e=0;e<T.messages.length;e++){var o=T.messages[e],s=document.getElementById(T.resultId(e));if(s){var n=s.getBoundingClientRect();o.visibilityButtonExtraBottom=n.top<t-40&&n.top+n.height>t?n.top+n.height-t:0}}};var O="https:"===location.protocol?"wss:":"ws:";function x(t){console.log(t)}(f=new WebSocket(O+"//"+location.host)).binaryType="arraybuffer",f.onmessage=function(t){T.onmessage(t)},f.onerror=function(t){x(t),T.useProxy=!1},navigator.serviceWorker&&!location.host.startsWith("localhost")&&navigator.serviceWorker.register("service-worker.bundle.js").catch(function(t){x("registration failed with error: "+t)})}});